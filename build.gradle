/*
 * VisualTesingInKatalonStudio-gradle-plugin/build.gradle
 *
 */
plugins {
    id 'java-gradle-plugin'
    id 'com.gradle.plugin-publish' version '0.10.1'
}

group = 'com.kazurayam'
version = '0.0.0'

apply plugin: 'groovy'
apply plugin: 'maven-publish'

ext {
    artifactId = 'visualtestinginks'
}

repositories {
    jcenter()
}

dependencies {
    testCompile gradleTestKit()
    testCompile group: 'org.spockframework', name: 'spock-core', version: '1.3-groovy-2.5'
}

pluginBundle {
    website = 'https://github.com/kazurayam/VisualTestingInKatalonStudio'
    vcsUrl  = 'https://github.com/kazurayam/VisualTestingInKatalonStudio.git'
    tags    = [ 'katalon', 'katalon-studio', 'webdriver', 'automated-testing' ]
}

// configuration for java-gradle-plugin
gradlePlugin {
    plugins {
        visualTestingInKatalonStudioPlugin {
	    id = "${project.group}.${artifactId}"
	    version = "${project.version}"
	    displayName = "A Gradle Plugin for Visual Testing in Katalon Studio"
	    description = "This Gradle Plugin exports Katalon Studio components (test cases/test suites/test listener/keywords) that implements the Visual Testing feature to the Github Project Releases page"
	    implementationClass = "${project.group}.${artifactId}.Porter"
	}
    }
}

publishing {
    publications {
        pluginPublication (MavenPublication) {
            from       components.java
	    groupId    "${project.group}"
	    artifactId "${artifactId}"
	    version    "${project.version}"
        }
    }
}
/*
 * visualtesinginks-gradle-plugin/build.gradle
 *
 */

// applying community plugins
plugins {
    id 'com.gradle.plugin-publish' version '0.10.1'
}

group = 'com.kazurayam'
jar.baseName = 'visualtestinginks-gradle-plugin'
version = '0.0.0'

// applying built-in plugins
apply plugin: 'groovy'
apply plugin: 'java-gradle-plugin'
apply plugin: 'maven-publish'

ext {
    artifactId = 'visualtestinginks'

    slf4jVersion = '1.7.2'
}

repositories {
    jcenter()
}

dependencies {
    compile group: 'org.slf4j', name: 'slf4j-api', version: "${slf4jVersion}"
    testCompile gradleTestKit()
    testCompile group: 'org.spockframework', name: 'spock-core', version: '1.3-groovy-2.5'
}

pluginBundle {
    website = 'https://github.com/kazurayam/visualtestinginks-gradle-plugin'
    vcsUrl  = 'https://github.com/kazurayam/visualtestinginks-gradle-plugin.git'
    tags    = [ 'katalon', 'katalon-studio', 'webdriver', 'automated-testing' ]
}

// configuration for java-gradle-plugin
gradlePlugin {
    plugins {
        visualtestinginks {
	    id = "com.github.kazurayam.visualtestinginks-gradle-plugin"
	    version = "${version}"
	    displayName = "A Gradle Plugin for Visual Testing in Katalon Studio"
	    description = "This Gradle Plugin exports Katalon Studio components (test cases/test suites/test listener/keywords) that implements the Visual Testing feature to the Github Project Releases page"
	    implementationClass = "com.kazurayam.visualtestinginks.gradle.PortingPlugin"
	}
    }
}

publishing {
    publications {
        pluginPublication (MavenPublication) {
            from       components.java
	    groupId    "${group}"
	    artifactId "${artifactId}"
	    version    "${version}"
        }
    }
}
